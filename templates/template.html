<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Employee Management</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    .header-left { text-align: left; }
    .header-center { text-align: center; }
    .header-right { text-align: right; }

    .logo-left { display: flex; justify-content: flex-start; }
    .logo-center { display: flex; justify-content: center; }
    .logo-right { display: flex; justify-content: flex-end; }
    .logo-top { display: flex; flex-direction: column; align-items: center; }
    .logo-bottom { display: flex; flex-direction: column-reverse; align-items: center; }

    .layout-ltr { display: flex; flex-wrap: wrap; justify-content: flex-start; }
    .layout-rtl { display: flex; flex-wrap: wrap; justify-content: flex-end; flex-direction: row-reverse; }
    .layout-ttb { display: block; }
    .layout-btt { display: flex; flex-direction: column-reverse; }

    .template-card { margin: 10px; }
    .logo { max-width: 80px; }
  </style>
</head>
<body class="bg-light p-4">
  <div class="container">

    <!-- Header and Controls -->
    <div class="mb-4">
      <form class="d-flex justify-content-between align-items-center mb-3" method="get">
        <div class="flex-grow-1">
          <h4 class="{{ 'header-' + header_layout }}">Company</h4>
        </div>
        <div class="d-flex">
          <select name="header_layout" class="form-select me-2">
            <option value="left" {% if header_layout == 'left' %}selected{% endif %}>Header Left</option>
            <option value="center" {% if header_layout == 'center' %}selected{% endif %}>Header Center</option>
            <option value="right" {% if header_layout == 'right' %}selected{% endif %}>Header Right</option>
          </select>

          <select name="logo_layout" class="form-select me-2">
            <option value="left" {% if logo_layout == 'left' %}selected{% endif %}>Image Left</option>
            <option value="center" {% if logo_layout == 'center' %}selected{% endif %}>Image Center</option>
            <option value="right" {% if logo_layout == 'right' %}selected{% endif %}>Image Right</option>
            <option value="top" {% if logo_layout == 'top' %}selected{% endif %}>Image Top</option>
            <option value="bottom" {% if logo_layout == 'bottom' %}selected{% endif %}>Image Bottom</option>
          </select>

          <select name="layout" class="form-select me-2">
            <option value="ltr" {% if layout == 'ltr' %}selected{% endif %}>Employees Left → Right</option>
            <option value="rtl" {% if layout == 'rtl' %}selected{% endif %}>Employees Right → Left</option>
            <option value="ttb" {% if layout == 'ttb' %}selected{% endif %}>Employees Top → Bottom</option>
            <option value="btt" {% if layout == 'btt' %}selected{% endif %}>Employees Bottom → Top</option>
          </select>

          <button class="btn btn-primary">Apply</button>
        </div>
      </form>
    </div>

    <!-- Employee Cards -->
    <div class="{{ 'layout-' + layout }}">
      {% for employee in employees %}
      <div class="card template-card" style="width: 18rem;">
        {% if employee.photo %}
        <div class="{{ 'logo-' + logo_layout }}">
          <img src="{{ url_for('static', filename=employee.photo) }}" class="card-img-top logo" alt="Employee Photo">
        </div>
        {% endif %}
        <div class="card-body">
          <h5 class="card-title">{{ employee.name }}</h5>
          <p class="card-text">
            Age: {{ employee.age }}<br>
            Qualification: {{ employee.qualification }}<br>
            Salary: {{ employee.salary }}
          </p>

          <div class="d-flex gap-2">
            <button class="btn btn-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#editModal{{ employee.id }}">Edit</button>

            <form action="{{ url_for('delete', emp_id=employee.id) }}" method="post" class="d-inline">
              <button class="btn btn-danger btn-sm">Delete</button>
            </form>

            <a href="{{ url_for('employee_pdf', emp_id=employee.id) }}" class="btn btn-warning btn-sm">PDF</a>
          </div>
        </div>
      </div>

      <!-- Edit Modal -->
      <div class="modal fade" id="editModal{{ employee.id }}" tabindex="-1">
        <div class="modal-dialog">
          <form class="modal-content" method="POST" action="{{ url_for('edit', emp_id=employee.id) }}" enctype="multipart/form-data">
            <div class="modal-header">
              <h5 class="modal-title">Edit Employee</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <div class="mb-2">
                <label class="form-label">Name</label>
                <input class="form-control" name="name" value="{{ employee.name }}">
              </div>
              <div class="mb-2">
                <label class="form-label">Age</label>
                <input type="number" class="form-control" name="age" value="{{ employee.age }}">
              </div>
              <div class="mb-2">
                <label class="form-label">Qualification</label>
                <input class="form-control" name="qualification" value="{{ employee.qualification }}">
              </div>
              <div class="mb-2">
                <label class="form-label">Salary</label>
                <input class="form-control" name="salary" value="{{ employee.salary }}">
              </div>
              <div class="mb-2">
                <label class="form-label">Image</label>
                <input type="file" class="form-control" name="logo" accept="image/*">
              </div>
            </div>
            <div class="modal-footer">
              <button class="btn btn-primary">Save</button>
            </div>
          </form>
        </div>
      </div>
      {% endfor %}
    </div>

    <!-- Add Employee Form -->
    <div class="mt-4">
      <h4>Add Employee</h4>
      <form action="{{ url_for('add_employee') }}" method="post" enctype="multipart/form-data">
        <div class="mb-2"><input class="form-control" name="name" placeholder="Name"></div>
        <div class="mb-2"><input class="form-control" name="age" placeholder="Age"></div>
        <div class="mb-2"><input class="form-control" name="qualification" placeholder="Qualification"></div>
        <div class="mb-2"><input class="form-control" name="salary" placeholder="Salary"></div>
        <div class="mb-2"><input class="form-control" type="file" name="logo"></div>
        <button class="btn btn-success">Add</button>
      </form>
    </div>

  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
